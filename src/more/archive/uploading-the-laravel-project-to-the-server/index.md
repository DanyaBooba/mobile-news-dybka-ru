# Выгрузка проекта Laravel на сервер

Всем привет. В недавной записи я сообщал об моих обновлениях и о том, что я
начинаю изучение фреймворка Laravel. В этой статье я хочу уделить время тому факту, каким образом
производить тестирование проекта и выгрузку его на свой сервер.

## Зачем localhost?

Лучше всего начать с того, каким образом происходит работа над проектом. Прежде чем начинать выгрузку на сервер, вы
работаете с проектом локально. Это значит, что все запускаемые, создаваемые и редактируемые файлы находятся только
на вашем устройстве. Запуская сервер — вы запускаете локальный сервер, в пути которого будет указан ваш ip или
localhost.

Это значит, что только вам видны изменения. Это нужно для того, чтобы спокойно работать над изменениями в проекте. В
то время, рабочая версия будет лежать на вашем сервере. Это значит, что вы спокойно можете добавлять нововведения,
имея в ходу рабочий проект на сервере, который функционирует.

Но изменения делаются для того, чтобы в будущем ими начали пользоваться. И вот он момент загрузки проекта на
сервер.

## Выгружаем на сервер

1. Убедитесь, что выгружаемый проект действительно готов к загрузке. Желательно запустить его, проверить работу и
   убедиться, что в нем нет ошибок.

2. Настройте сервер, куда вы будете загружать проект. Либо создайте папку внутри доменного имени. Либо создайте новое
   доменное имя на том же уровне, что и основной домен, а затем добавьте ассоциацию с этим доменом внутри настроек
   сервера.

3. Используйте для удобной загрузки программу, которая позволит подключиться к серверу.

4. Отредактируйте пару моментов в проекте.

5. Загрузите файлы на сервер.

6. Удалите некоторые файлы с логами, чтобы сайт не выдавал ошибки.

А теперь давайте подробнее:

Мы уже готовы выгружать проект на сервер, проверили работу проекта. Давайте создадим новое доменное имя. Для этого
перехожу в настройки своего хостинга. Если не знаете, где они — обратитесь в поддержку провайдера.

Нам нужно создать папку и ссылку. Ссылка будет нужна для переадресации с пути www.&lt;domen&gt; на &lt;domen&gt;.

Создать папку можно в любом удобном для вас месте. Я же буду создавать прямо здесь.

В данном каталоге "www" создаю нужные файлы.

Далее — ссылка. В таком формате.

Затем, создаем псевдоним. Перехожу в настройки сайта. Важно сначала создать папку и ссылку, а только затем добавлять
псевдоним.

Здесь мы должны найти графу "псевдонимы".

Редактируем ее: добавляем поле с нашим новым доменным именем. В моем случае это будет id.creagoo.ru.
Именно так я пишу, с новой строки.

Теперь нам нужно отредактировать проект. Заходим в него. Открываем .env в корне. Редактируем эти
поля:

<ul>
<li>APP_URL: полный путь домена.</li>
<li>DB_PORT (если есть ДБ): 3306</li>
<li>DB_DATABASE (если есть ДБ): имя ДБ</li>
<li>DB_USERNAME (если есть ДБ): пользователь ДБ</li>
<li>DB_PASSWORD (если есть ДБ): пароль пользователя ДБ</li>
</ul>

Далее выполняем эти команды:

<ul>
<li>php artisan key:generate: рефрешим наш ключ.</li>
<li>php artisan config:cache: рефрешим кэш конфига.</li>
</ul>

В папке public меняем файл .htaccess на такой.

<pre>

&lt;DirectoryIndex public/index.php&gt;
&lt;IfModule mod_rewrite.c&gt;
&lt;IfModule mod_negotiation.c&gt;
Options &lt;-MultiViews&gt; -Indexes
&lt;/IfModule&gt;

RewriteEngine On

# Handle Authorization Header
RewriteCond %{HTTP:Authorization} .
RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]

# Redirect Trailing Slashes If Not A Folder...
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} (.+)/$
RewriteRule ^ %1 [L,R=301]

# Handle Front Controller...
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^ &lt;public/&gt;index.php [L]

&lt;/IfModule&gt;

</pre>

-MultiViews нужно удалить,
если сервер некорректно отображается, тк с этим параметром с некоторыми настройками имеются проблемы.

Далее файл .htaccess нужно переместить в корень.

Переходим к выгрузке проекта. Открываем, к примеру, FileZilla. Подключаемся к серверу. Просто перемещаем содержимое
папки вашего проекта внутрь папки на сервере.

Есть пару моментов, про которые нельзя забыть:

<ul>
<li>На сервере удалите содержимое папки storage/lotorage</li>
<li>На сервере удалите файл bootstrap/cache/config.php</li>
</ul>

Все. Ваш проект загружен на сервер. В будущем количество шагов уменьшится, потому что вы уже все настроили и все
стало куда проще для использования. Успехов!
